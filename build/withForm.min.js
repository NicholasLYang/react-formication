!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).withForm=e()}}(function(){return function a(i,u,f){function l(t,e){if(!u[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,a,i,u,f)}return u[t].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++)l(f[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),v=e("react"),d=(n=v)&&n.__esModule?n:{default:n};function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.default=function(s){return function(e){var b=e.inputs,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],l="",r=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(b)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var u=m(a.value,2),f=u[0];if(u[1].focusOnMount){l=f;break}}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}var c=t?v.Component:v.PureComponent;return function(e){function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));s.validateInputs=function(e,t){var r={},n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var f=i.value,l=t.values[f],c=s.validate(f,l,t);r[f+"InputError"]=c}}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return Object.keys(r).length?r:void 0},s.validate=function(e,t,r){switch(w(b[e].validate)){case"function":return b[e].validate({context:r,value:t});case"object":var n=b[e].validate;if(n.regex&&n.errorMessage){var o=n.regex,a=n.errorMessage;return t.match(o)?"":a}return""}},s.onKeyPressed=function(e){switch(e.keyCode){case 13:var t=document.activeElement,r=!0,n=!1,o=void 0;try{for(var a,i=Object.entries(b)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var u=m(a.value,2),f=u[0],l=u[1],c=l.onAction;l.elementId,s.R[f+"Ref"]==t&&c&&c.apply(s.R.componentRef,s.props)}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}}},s.R={componentRef:void 0},s.listeners={};var o={context:{values:{}}},t=!0,r=!1,n=void 0;try{for(var a,i=Object.keys(b)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var u=a.value;o.context.values[u]=""}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}var f=!0,l=!1,c=void 0;try{for(var y,v=function(){var e=m(y.value,2),i=e[0],t=e[1],r=(t.elementId,t.validate,i.charAt(0).toUpperCase()+i.substr(1)),u=i+"InputValue",n="onChange"+r;s.listeners[n]=function(e){var t,n=e.target.value,o=h({},s.state.context);o.values[i]=n,o.revalidate=function(e){var t=h({},o,{values:Object.assign({},o.values,O({},i,n))}),r=s.validateInputs(e,t);r&&s.setState(r)};var r=(O(t={},u,n),O(t,"context",o),t),a=s.validateInputs([i],o);a&&(r=Object.assign(r,a)),s.setState(r)},o[u]=""},d=Object.entries(b)[Symbol.iterator]();!(f=(y=d.next()).done);f=!0)v()}catch(e){l=!0,c=e}finally{try{!f&&d.return&&d.return()}finally{if(l)throw c}}return s.state=o,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,c),y(p,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this.onKeyPressed);var e=!0,t=!1,r=void 0;try{for(var n,o=Object.entries(b)[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=m(n.value,2),i=a[0],u=a[1].elementId,f=document.getElementById(u);f&&(this.R[i+"Ref"]=f,this.R[i+"Ref"].tabIndex=0)}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}l&&this.R[l+"Ref"]&&this.R[l+"Ref"].focus()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this.onKeyPressed);var e=!0,t=!1,r=void 0;try{for(var n,o=Object.entries(this.R)[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=m(n.value,2),i=a[0];a[1],this.R[i+"Ref"]=""}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}}},{key:"render",value:function(){var t=this,e=this.R,r=(e.componentRef,function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["componentRef"]));return d.default.createElement(s,h({ref:function(e){return t.R.componentRef=e}},this.props,this.state,this.listeners,r))}}]),p}()}},t.exports=r.default},{react:"react"}]},{},[1])(1)});